<div class="login-wrapper">
  <p-toast></p-toast>

  <div class="login-container">
    <!-- Columna izquierda -->
    <div class="login-left">
      <h1 class="welcome-title">Bienvenido al Sistema de Gestión Hospitalaria</h1>
      <p class="welcome-text">
        Plataforma integral para <strong>pacientes</strong>, <strong>enfermeras</strong> y <strong>médicos</strong>. Gestiona citas, recetas, expedientes y mucho más con seguridad y facilidad.
      </p>
    </div>

    <!-- Columna derecha -->
    <div class="login-right">
      <p-card styleClass="login-card login-card-glass">
        <ng-template pTemplate="header">
          <h2 class="custom-header">Iniciar Sesión</h2>
        </ng-template>

        <form (ngSubmit)="login()">
          <div class="p-field mb-3">
            <label for="email">Correo electrónico</label>
            <input id="email" type="email" pInputText [(ngModel)]="email" name="email" required />
          </div>

          <div class="p-field mb-3">
            <label for="password">Contraseña</label>
            <p-password
              [(ngModel)]="password"
              name="password"
              inputId="password"
              toggleMask="true"
              feedback="false"
              required
            ></p-password>
          </div>

          <div class="p-field-checkbox">
            <input type="checkbox" id="usarMfa" [(ngModel)]="usarMfa" name="usarMfa" />
            <label for="usarMfa">Usar autenticación MFA</label>
          </div>

          <div class="mfa-transition-wrapper" [class.visible]="usarMfa" [class.hidden]="!usarMfa">
            <div class="p-field mb-3">
              <label for="totp">Código MFA</label>
              <input
                id="totp"
                type="text"
                pInputText
                [(ngModel)]="totp"
                name="totp"
                maxlength="6"
                inputmode="numeric"
                (keypress)="onKeyPressNumbersOnly($event)"
                (paste)="onPasteNumbersOnly($event)"
                title="Ingrese hasta 6 dígitos numéricos"
                class="totp-input"
              />
            </div>
          </div>

          <button type="submit" pButton label="Iniciar Sesión" class="w-full" icon="pi pi-sign-in"></button>
        </form>

        <div class="register-link">
          ¿No tienes cuenta?
          <a routerLink="/register">Regístrate aquí</a>
        </div>
      </p-card>
    </div>
  </div>
</div>
